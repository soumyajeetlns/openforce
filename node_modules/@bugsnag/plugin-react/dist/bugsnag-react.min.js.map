{"version":3,"sources":["../../node_modules/browser-pack-flat/_prelude","src/index.js","../../node_modules/browser-pack-flat/_postlude"],"names":["f","exports","module","define","amd","window","global","self","this","bugsnag__react","_$src_1","name","init","client","React","Error","_React$Component","ErrorBoundary","props","_this","call","state","error","info","_inheritsLoose","_proto","prototype","componentDidCatch","beforeSend","BugsnagReport","report","message","getStacktrace","severity","unhandled","severityReason","type","componentStack","formatComponentStack","updateMetaData","notify","setState","render","FallbackComponent","createElement","children","Component","str","lines","split","ret","line","len","length"],"mappings":"CAAA,SAAAA,GAAA,GAAA,iBAAAC,SAAA,oBAAAC,OAAAA,OAAAD,QAAAD,SAAA,GAAA,mBAAAG,QAAAA,OAAAC,IAAAD,OAAA,GAAAH,OAAA,EAAA,oBAAAK,OAAAA,OAAA,oBAAAC,OAAAA,OAAA,oBAAAC,KAAAA,KAAAC,MAAAC,eAAAT,KAAA,CAAA,WAAA,IACAU,EAAA,GCDAA,EAAiB,CACfC,KAAM,QACNC,KAAM,SAACC,EAAQC,GACb,QADsC,IAAzBA,IAAAA,EAAQT,OAAOS,QACvBA,EAAO,MAAM,IAAIC,MAAM,qBA8B5B,OA/BsC,SAAAC,GAIpC,SAAAC,EAAaC,GAAO,IAAAC,EAAA,OAClBA,EAAAH,EAAAI,KAAAZ,KAAMU,IAANV,MACKa,MAAQ,CACXC,MAAO,KACPC,KAAM,MAJUJ,kGAJgBK,CAAAP,EAAAD,GAAA,IAAAS,EAAAR,EAAAS,UAAA,OAAAD,EAWpCE,kBAXoC,SAWjBL,EAAOC,GAAM,IACtBK,EAAepB,KAAKU,MAApBU,WACFC,EAAgBhB,EAAOgB,cAEvBC,EAAS,IAAID,EAAcP,EAAMX,KAAMW,EAAMS,QAASF,EAAcG,cAAcV,GADnE,CAAEW,SAAU,QAASC,WAAW,EAAMC,eAAgB,CAAEC,KAAM,wBAE/Eb,GAAQA,EAAKc,iBAAgBd,EAAKc,eAAiBC,EAAqBf,EAAKc,iBACjFP,EAAOS,eAAe,QAAShB,GAC/BV,EAAO2B,OAAOV,EAAQ,CAAEF,WAAAA,IACxBpB,KAAKiC,SAAS,CAAEnB,MAAAA,EAAOC,KAAAA,KAnBWE,EAqBpCiB,OArBoC,WAuBlC,GADkBlC,KAAKa,MAAfC,MACG,CAAA,IACDqB,EAAsBnC,KAAKU,MAA3ByB,kBACR,OAAIA,EAA0B7B,EAAM8B,cAAcD,EAAmBnC,KAAKa,OACnE,KAET,OAAOb,KAAKU,MAAM2B,UA5BgB5B,EAAA,CAGVH,EAAMgC,aAgCtC,IAAMR,EAAuB,SAAAS,GAG3B,IAFA,IAAMC,EAAQD,EAAIE,MAAM,aACpBC,EAAM,GACDC,EAAO,EAAGC,EAAMJ,EAAMK,OAAQF,EAAOC,EAAKD,IAC7CH,EAAMG,GAAME,SAAQH,IAAUA,EAAIG,OAAS,KAAO,IAAKL,EAAMG,IAEnE,OAAOD,GC1CT,OD6CAxC,EAAe4B,qBAAuBA,EACtC5B,EAAA,WAA4BA","sourcesContent":["(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.bugsnag__react = f()}})(function(){var define,module,exports;\n","module.exports = {\n  name: 'react',\n  init: (client, React = window.React) => {\n    if (!React) throw new Error('cannot find React')\n\n    class ErrorBoundary extends React.Component {\n      constructor (props) {\n        super(props)\n        this.state = {\n          error: null,\n          info: null\n        }\n      }\n      componentDidCatch (error, info) {\n        const { beforeSend } = this.props\n        const BugsnagReport = client.BugsnagReport\n        const handledState = { severity: 'error', unhandled: true, severityReason: { type: 'unhandledException' } }\n        const report = new BugsnagReport(error.name, error.message, BugsnagReport.getStacktrace(error), handledState)\n        if (info && info.componentStack) info.componentStack = formatComponentStack(info.componentStack)\n        report.updateMetaData('react', info)\n        client.notify(report, { beforeSend })\n        this.setState({ error, info })\n      }\n      render () {\n        const { error } = this.state\n        if (error) {\n          const { FallbackComponent } = this.props\n          if (FallbackComponent) return React.createElement(FallbackComponent, this.state)\n          return null\n        }\n        return this.props.children\n      }\n    }\n    return ErrorBoundary\n  }\n}\n\nconst formatComponentStack = str => {\n  const lines = str.split(/\\s*\\n\\s*/g)\n  let ret = ''\n  for (let line = 0, len = lines.length; line < len; line++) {\n    if (lines[line].length) ret += `${ret.length ? '\\n' : ''}${lines[line]}`\n  }\n  return ret\n}\n\nmodule.exports.formatComponentStack = formatComponentStack\nmodule.exports['default'] = module.exports\n","\nreturn _$src_1;\n\n});\n"]}